#pragma once

#define AFE4404_LED2STC			0x01
#define AFE4404_LED2ENDC		0x02
#define AFE4404_LED1LEDSTC		0x03
#define AFE4404_LED1LEDENDC		0x04
#define AFE4404_ALED2STC		0x05
#define AFE4404_ALED2ENDC		0x06
#define AFE4404_LED1STC			0x07
#define AFE4404_LED1ENDC		0x08
#define AFE4404_LED2LEDSTC		0x09
#define AFE4404_LED2LEDENDC		0x0A
#define AFE4404_ALED1STC		0x0B
#define AFE4404_ALED1ENDC		0x0C
#define AFE4404_LED2CONVST		0x0D
#define AFE4404_LED2CONVEND		0x0E
#define AFE4404_ALED2CONVST		0x0F
#define AFE4404_ALED2CONVEND	0x10
#define AFE4404_LED1CONVST		0x11
#define AFE4404_LED1CONVEND		0x12
#define AFE4404_ALED1CONVST		0x13
#define AFE4404_ALED1CONVEND	0x14
#define AFE4404_ADCRSTSTCT0		0x15
#define AFE4404_ADCRSTENDCT0	0x16
#define AFE4404_ADCRSTSTCT1		0x17
#define AFE4404_ADCRSTENDCT1	0x18
#define AFE4404_ADCRSTSTCT2		0x19
#define AFE4404_ADCRSTENDCT2	0x1A
#define AFE4404_ADCRSTSTCT3		0x1B
#define AFE4404_ADCRSTENDCT3		0x1C
#define AFE4404_PRPCOUNT			0x1D
#define AFE4404_CONTROL1			0x1E
#define AFE4404_TIAGAIN				0x20
#define AFE4404_TIA_AMB_GAIN		0x21
#define AFE4404_LEDCNTRL			0x22
#define AFE4404_CONTROL2			0x23
#define AFE4404_CLKDIV1				0x29
//#define AFE4404_LED2VAL			0x2A
//#define AFE4404_ALED2VAL			0x2B
//#define AFE4404_LED1VAL			0x2C
//#define AFE4404_ALED1VAL			0x2D
#define AFE4404_LED2_ALED2VAL		0x2E
//#define AFE4404_LED1_ALED1VAL		0x2F
//#define AFE4404_DIAG				0x30
#define AFE4404_CONTROL3			0x31
#define AFE4404_PDNCYCLESTC		0x32
#define AFE4404_PDNCYCLEENDC	0x33
#define AFE4404_PROG_TG_STC		0x34
#define AFE4404_PROG_TG_ENDC	0x35
#define AFE4404_LED3LEDSTC		0x36
#define AFE4404_LED3LEDENDC		0x37
#define AFE4404_CLKDIV2			0x39
#define AFE4404_OFFDAC			0x3A


#define CONTROL0			0x00
#define REDVALUE			0x2A
#define AMBREDVALUE			0x2B
#define IRVALUE				0x2C
#define AMBIRVALUE			0x2D
#define IRMINUSAMBIRVALUE	0x2F
#define DIAGNOSTICS			0x30

#define AFE4404_CONTROL0		CONTROL0
#define AFE4404_LED2VAL			REDVALUE	// 0x2A
#define AFE4404_ALED2VAL		AMBREDVALUE	// 0x2B
#define AFE4404_LED1VAL			IRVALUE		// 0x2C
#define AFE4404_ALED1VAL		AMBIRVALUE	// 0x2D
#define AFE4404_DIAG			DIAGNOSTICS
#define AFE4404_LED1_ALED1VAL	IRMINUSAMBIRVALUE	//0x2F

#define AFE4404_DELAY		0xFF


#define AFE4404_RESET_PIN		28
#define AFE4404_IRQ_READY_PIN	29
#define AFE4404_POWER_DVDD		EXGPIO_0

#define AFE4404_I2C_ADDR		0x58
#define AFE4404_I2C_TYPE		"pps960"
#define AFE4404_I2C_PORT		0x01

#define AFE4404_RESET_HIGH()	gpio_set_out(AFE4404_RESET_PIN, GPIO_OUT_ONE)
#define AFE4404_RESET_LOW()		gpio_set_out(AFE4404_RESET_PIN, GPIO_OUT_ZERO)
#define AFE4404_PWRON_VDD()		gpio_set_out(EXGPIO_0, GPIO_OUT_ONE)
#define AFE4404_PWROF_VDD()		gpio_set_out(EXGPIO_0, GPIO_OUT_ZERO)

int i2c_write_bytes(struct i2c_client *client, __u8 addr, __u32 value);
int i2c_read_bytes(struct i2c_client *client, __u8 addr, __u32 *value);

#define PPS_LOCAL_STARTUP		0x01
#define PPS_LOCAL_POWROFF		0x02